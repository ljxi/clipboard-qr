# Clipboard QR (qr)

这是一个轻量级的命令行工具，用于**识别**剪切板中的二维码图片，或根据文本**生成**二维码并自动存入剪切板。

## 🚀 快速安装

使用 [uv](https://github.com/astral-sh/uv) 可以一键安装并自动配置运行环境：

```bash
uv tool install https://github.com/ljxi/clipboard-qr.git

```

安装完成后，你可以在终端直接使用 `qr` 命令。

---

## 🛠 功能介绍

该工具根据是否带有参数，自动切换两种模式：

### 1. 识别模式 (无参数)

从你的剪切板中读取图片，自动识别其中的二维码内容。

* **操作**：先截图或复制一张二维码图片，然后在终端输入：
```bash
qr

```


* **效果**：识别到的文本会打印在屏幕上，并**自动复制到剪切板**。

### 2. 生成模式 (带参数)

将输入的字符串生成二维码。

* **操作**：在命令后跟随你想要转换的内容：
```bash
qr "https://example.com"

```


* **效果**：
* 在终端直接打印出 **ASCII 二维码**（方便快速扫描）。
* 同时生成一张高清二维码图片并**自动复制到剪切板**，你可以直接在微信、钉钉等软件中 `Ctrl+V` 粘贴发送。



---

## 📦 依赖项

本工具依赖以下库（通过 `uv` 安装时会自动处理）：

* `pillow`: 图像处理
* `pyzbar`: 二维码识别
* `qrcode`: 二维码生成
* `pyperclip`: 剪切板文本交互
* `pywin32`: Windows 平台下的剪切板图像支持

> **注意 (Linux 用户)**：识别功能依赖 `zbar` 共享库。如果运行报错，请安装系统依赖：
> `sudo apt install libzbar0` (Ubuntu/Debian) 或 `sudo pacman -S zbar` (Arch)

---

## 🖥 平台支持

* ✅ **Windows**: 完美支持文本与图片的双向剪切板操作。
* ✅ **macOS**: 支持文本与图片交互（需确保终端有权限访问剪切板）。
* ⚠️ **Linux**: 识别功能正常，但图片写入剪切板的功能可能取决于特定的 X11/Wayland 配置。

---
